/* App layout & component-level polish */

#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: var(--space-6);
  text-align: center;
}

.container {
  max-width: 720px;
  margin: 0 auto;
  padding: var(--space-4);
  text-align: left;
}

/* Top bar: toggle sits at the far right */
.topbar {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  margin-bottom: var(--space-4);
}

.topbar #theme-toggle-button {
  transform: scale(0.6);          
  transform-origin: top right;     /* so it scales inward from the corner */
}

/* Hero: centered heading + subtitle */
.hero {
  text-align: center;
  margin-bottom: var(--space-4);
}
.page-title {
  margin: 0 0 var(--space-2) 0;
  font-size: clamp(2.25rem, 6vw, 3.25rem); /* larger than default */
  line-height: 1.1;
  letter-spacing: -0.01em;
}
.subtitle {
  display: block;
  margin: 0 auto var(--space-4) auto;
  max-width: 56ch;
}

/* Post form */
form { 
  margin-top: var(--space-3); 
}
textarea {
  min-height: 110px;
  resize: vertical;
}
button { margin-top: var(--space-2); }


/*
 * ===============================================
 *  Feed, Messages, and Replies
 * ===============================================
 */

/* The main list of all messages */
.feed-list {
  margin-top: var(--space-6);
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

/* A single top-level message card */
.message-card {
  background: var(--surface);
  padding: var(--space-4);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  transition: transform .08s ease, box-shadow .2s ease, background .2s ease;
}
.message-card:hover {
  transform: translateY(-1px);
}

.message-text {
  font-weight: 650;
  letter-spacing: 0.005em;
  font-size: 1.05rem;
  margin: 0;
}

/*
 * This is the container for a set of replies.
 * It creates the FIRST level of indentation.
 */
.replies {
  margin-top: var(--space-4);
  padding-left: var(--space-4);
  border-left: 2px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: var(--space-3); /* Space between replies */
}

/*
 * This targets a replies container that is INSIDE another one.
 * It creates the SECOND (and subsequent) levels of indentation.
 */
.replies.nested {
  margin-top: var(--space-3);
  padding-left: var(--space-5); /* More padding for deeper nesting */
}

/* The card for a single reply */
.reply-card {
  padding: var(--space-3);
  background: var(--surface-2);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
}
.reply-card p {
  margin: 0;
}


/*
 * ===============================================
 *  Actions and Forms
 * ===============================================
 */

.actions {
  margin-top: var(--space-3);
}

/* A simple button that looks like a link */
.btn-link {
  background: none;
  border: none;
  color: var(--primary);
  padding: 0;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
}
.btn-link:hover {
  text-decoration: underline;
}

/* Styling for the new reply form */
.reply-form {
  margin-top: var(--space-3);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.reply-form textarea {
  min-height: 80px; /* A bit more compact for replies */
}

/* Aligns the cancel/reply buttons */
.row-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.btn-send-small {
  padding: .4rem .8rem;
  font-size: .85rem;
  border-radius: var(--radius-sm);
}

.btn-cancel {
  background: transparent;
  color: var(--muted);
  border-color: var(--border);
}
.btn-cancel:hover {
  background: var(--surface-2);
  border-color: var(--border);
  filter: none;
}

.error-text {
  color: #ff6b6b; /* Consider adding a --danger color to your tokens */
  font-size: 0.9rem;
  text-align: center;
  margin-top: var(--space-4);
}


/* Inline helper bits */
small { color: var(--muted); }

/* Remove Vite demo leftovers (if any) */
.logo, .card, .read-the-docs { display: none !important; }


#theme-toggle-button {
  font-size: 16px;
  position: relative;
  display: inline-block;
  width: 7em;
  cursor: pointer;
}
#toggle { opacity: 0; width: 0; height: 0; }
#container, #patches, #stars, #button, #sun, #moon, #cloud {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 0.8s;
}
#toggle:checked + svg #container { fill: #2b4360; }               /* night sky */
#toggle:checked + svg #button { transform: translate(28px, 2.333px); }
#sun { opacity: 1; }            #toggle:checked + svg #sun { opacity: 0; }
#moon { opacity: 0; }           #toggle:checked + svg #moon { opacity: 1; }
#cloud { opacity: 1; }          #toggle:checked + svg #cloud { opacity: 0; }
#stars { opacity: 0; }          #toggle:checked + svg #stars { opacity: 1; }

/* Optional: compact on small screens */
@media (max-width: 420px) { #theme-toggle-button { width: 5.6em; } }

.btn-send {
  display: inline-flex;
  align-items: center;
  gap: .55rem;
  font-family: inherit;
  font-size: 1rem;            /* was 20px; smaller fits your layout */
  line-height: 1;
  background: var(--primary); /* theme-aware */
  color: var(--primary-contrast);
  padding: 0.70em 1.0em;
  padding-left: 0.9em;
  border: none;
  border-radius: 16px;
  cursor: pointer;
  overflow: hidden;
  transition: transform 0.2s, filter 0.2s, background 0.2s;
}

.btn-send .btn-label {
  display: block;
  margin-left: 0.3em;
  transition: transform 0.3s ease-in-out, opacity 0.2s;
}

.btn-send .svg-wrapper-1 { display: block; }
.btn-send .svg-wrapper {
  display: block;
  transform-origin: center center;
  transition: transform 0.3s ease-in-out;
}

.btn-send svg { display: block; }

/* Hover animations (only when enabled) */
.btn-send:not([disabled]):hover .svg-wrapper {
  animation: fly-1 0.6s ease-in-out infinite alternate;
}
.btn-send:not([disabled]):hover svg {
  transform: translateX(1.2em) rotate(45deg) scale(1.1);
}
.btn-send:not([disabled]):hover .btn-label {
  transform: translateX(5em);
}

/* Press feedback */
.btn-send:active { transform: scale(0.97); }

/* Disabled state */
.btn-send[disabled] {
  opacity: .55;
  cursor: not-allowed;
  filter: none;
}

/* Reduce motion: keep it classy for users who prefer less motion */
@media (prefers-reduced-motion: reduce) {
  .btn-send,
  .btn-send * {
    transition: none !important;
    animation: none !important;
    transform: none !important;
  }
}

/* Keyframes from the original */
@keyframes fly-1 {
  from { transform: translateY(0.1em); }
  to   { transform: translateY(-0.1em); }
}